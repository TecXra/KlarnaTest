{"version":3,"sources":["tires.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tires.js","sourcesContent":["function redirect(page) {\n    var redirect = \"\";\n     if(typeof page == \"undefined\" || page == null) {\n        if(productTypeID == 1) { redirect = 'sommardack'; }\n        if(productTypeID == 2) { redirect = 'friktionsdack'; }\n        if(productTypeID == 3) { redirect = 'dubbdack'; }\n    } else {\n        if(productTypeID == 1) { redirect = 'sommardack?page=' + page;}\n        if(productTypeID == 2) { redirect = 'friktionsdack?page=' + page;}\n        if(productTypeID == 3) { redirect = 'dubbdack?page=' + page;}\n    }\n\n    // if(typeof page == \"undefined\" || page == null) {\n    //     redirect = '/sommardack';\n    // } else {\n    //     redirect = '/sommardack?page=' + page;\n    // }\n\n    if (history.pushState) {\n      window.history.pushState(\"\", \"\", redirect);\n    } else {\n      document.location.href = redirect;\n    }\n    return;\n}\n\n\n$(document).on('click', '.pagination a', function(e) {\n    e.preventDefault();\n    var url = $(this).attr('href');\n    var page = $(this).text();\n    // console.log(url, page);\n    redirect(page);\n\n    $.ajax({\n        type: 'GET',\n        url: url, \n        data: {\n            'page' : page\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove();\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n\n            $('html, body').animate({scrollTop : $(\"#searchContainer\").offset().top},700);\n        }\n    });\n});\n\n\n$(document).on('keyup keypress', 'form', function(e) {\n    var keyCode = e.keyCode || e.which;\n    if (keyCode === 13) { \n    e.preventDefault();\n    return false;\n    }\n});\n\n$(document).on('change', '#tireType', function() {\n    // console.log($('#tireType').val());\n    $('#car-search-box form').attr('action', 'sok/reg/' + $('#tireType').val());\n});\n\n$(document).on('click', '#productType button', function() {\n    $('#ddTireType').show();\n    $('#productType .glyphicon').css(\"visibility\",\"hidden\");\n    $(this).find('.glyphicon').css(\"visibility\",\"visible\");\n    // console.log($(this).data('type'));\n\n    if($(this).data('type') == 'sommardack') {\n        $('#tireType').on('change', function() {\n            // console.log($('#tireType').val());\n            $('#car-search-box form').attr('action', 'sok/reg/' + $('#tireType').val());\n        });\n    } else {\n        $('#car-search-box form').attr('action', 'sok/reg/' + $(this).data('type'));\n    }\n    \n    // console.log($('#car-search-box form').attr('action'));\n\n});\n\n$(document).on('click', '#selectRims', function() {\n    $('#ddTireType').hide();\n});\n\n$(document).on('keyup', '#regNrSearch', function() {\n    if($(this).val().length == 6) {\n        var url = 'searchRegNr';\n        var callOnSuccess = showRegnr;\n        var args = { \n            'regnr' : $(this).val()\n        };\n\n        setTimeout(function(){ }, 1000);\n\n        ajaxRequest(url, callOnSuccess, args);\n    }\n});\n\n$(document).on('keyup', '#search-manuf-text', function(){\n    console.log('searching...');\n    var valThis = $(this).val().toLowerCase();\n    $('#carManufactorers button').each(function(){\n        var text = $(this).data('search-item').toLowerCase();\n        (text.indexOf(valThis) == 0) ? $(this).show() : $(this).hide();            \n    });\n});\n\n$(document).on('keyup', '#search-model-text', function(){\n    console.log('searching...');\n    var valThis = $(this).val().toLowerCase();\n    $('#carModels button').each(function(){\n        var text = $(this).text().toLowerCase();\n        (text.indexOf(valThis) == 0) ? $(this).show() : $(this).hide();            \n    });\n});\n\n// $(document).on('keyup', '#search-manuf-text', function(){\n//     var url = 'getCarManuf';\n//     var callOnSuccess = listCarManufModels;\n//     var args = { 'stext' : $('#search-manuf-text').val() };\n\n//     ajaxRequest(url, callOnSuccess, args);\n// }); \n\n// $(document).on('keyup', '#search-model-text', function(){\n//     var url = 'getCarModels';\n//     var callOnSuccess = listCarManufModels;\n//     var args = { \n//         'stext' : $('#search-model-text').val(),\n//         'carBrand' : $('#search-model-text').data('carbrand')\n//     };\n\n//     ajaxRequest(url, callOnSuccess, args);\n// });\n\n$(document).on('click', '#search-tabs a[href=\"#search-model-mobile\"]', function() {\n    $('#search-model-mobile .alert').remove();\n    var url = 'getCarManuf';\n    var callOnSuccess = listSearchCars;\n\n    ajaxRequest(url, callOnSuccess);\n});\n\n$(document).on('click', '#carManufactorers button', function(){\n    $('#search-model-mobile .alert').remove();\n    var url = 'getCarModels';\n    var callOnSuccess = listSearchCars;\n    var args = { \n        'carBrand' : $(this).val()\n    };\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n\n$(document).on('click', '#carModels button', function(){\n    var url = 'searchRegNr';\n    var callOnSuccess = showRegnr;\n    var args = { \n        'modelid' : $(this).data('modelid'),\n        'ktype' : $(this).data('ktype')\n    };\n\n    setTimeout(function(){ }, 1000);\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n\n\n$(document).on('change', '#product_width', function(){\n    var url = 'filterByWidth/' + productTypeID;\n    var callOnSuccess = showDimensionsByWidth;\n    var args = { \n        'product_width' : $(this).val()\n    };\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n\n$(document).on('change', '#product_profile', function(){\n    var url = 'filterByProfile/' + productTypeID;\n    var callOnSuccess = showDimensionsByProfile;\n    var args = { \n        'product_width' : $('#product_width').val(),\n        'product_profile' : $(this).val()\n    };\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n\n$(document).on('change', '#product_inch', function(){\n    var url = 'filterByInch/' + productTypeID;\n    var callOnSuccess = showDimensionsByInch;\n    var args = { \n        'product_width' : $('#product_width').val(),\n        'product_profile' : $('#product_profile').val(),\n        'product_inch' : $(this).val()\n    };\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n\n$(document).on('change', '#product_brand', function(){\n    var url = 'filterByBrand/' + productTypeID;\n    var callOnSuccess = showDimensionsByBrand;\n    var args = { \n        'product_width' : $('#product_width').val(),\n        'product_profile' : $('#product_profile').val(),\n        'product_inch' : $('#product_inch').val(),\n        'product_brand' : $(this).val()\n    };\n\n    ajaxRequest(url, callOnSuccess, args);\n});\n \nfunction ajaxRequest(url, callOnSuccess, args) {\n    if (args === undefined) {\n        args = null;\n    }\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: args,\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: callOnSuccess\n    });\n}\n\nvar showRegnr = function (data) {\n    // $('#car-search-box form').empty();\n    // $('#car-search-box form').append(data.searchResult);\n\n    // $('#selectTires .glyphicon').css(\"visibility\",\"visible\");\n    // $('#search-tabs a[href=\"#search-reg-mobile\"]').tab('show');\n    \n    \n    $('#search-model-mobile .alert').remove();\n    if( data.searchResult !== undefined ) {\n        $('#car-search-box form').empty();\n        $('#car-search-box form').append(data.searchResult);\n\n        $('#selectTires .glyphicon').css(\"visibility\",\"visible\");\n\n        $('#search-tabs a[href=\"#search-reg-mobile\"]').tab('show');\n\n        var productTypeURL = '';\n        if(productTypeID == 1) { productTypeURL = 'sok/reg/sommardack'; } \n        if(productTypeID == 2) { productTypeURL = 'sok/reg/friktionsdack'; } \n        if(productTypeID == 3) { productTypeURL = 'sok/reg/dubbdack'; } \n        $('#car-search-box form').attr('action', productTypeURL);\n    } else if(data.error) {\n        $('#search-tabs li:eq(0)').removeClass('active');\n        $('#search-tabs li:eq(1)').addClass('active');\n        $('#search-reg-mobile').removeClass('active');\n        $('#search-model-mobile').addClass('active');\n        $('#search-model-mobile').prepend(\n                '<div class=\"alert alert-danger\" style=\"margin-left:0px;\">' +\n                    '<p>' + data.error + '</p>' +\n                '</div>'\n        );\n           \n        var productTypeURL = '';\n        if(productTypeID == 1) { productTypeURL = 'sok/reg/sommardack'; } \n        if(productTypeID == 2) { productTypeURL = 'sok/reg/friktionsdack'; } \n        if(productTypeID == 3) { productTypeURL = 'sok/reg/dubbdack'; } \n        $('#car-search-box form').attr('action', productTypeURL);\n\n        var url = 'getCarManuf';\n        var callOnSuccess = listSearchCars;\n\n        ajaxRequest(url, callOnSuccess);\n    }\n\n\n};\n\n// var listCarManufModels = function(data) {\n//     $('#search-model-mobile .list-group').remove();\n//     $('#search-model-mobile').append(data); \n\n//     $('input').iCheck({\n//         // checkboxClass: 'icheckbox_minimal-green',\n//         // radioClass: 'iradio_minimal-green'\n\n//         checkboxClass: 'icheckbox_square-green iCheck-margin',\n//         radioClass: 'iradio_square-grey iChk iCheck-margin'\n//     });\n// };\n\nvar listSearchCars = function(data) {\n    $('#search-model-mobile .list-group').remove();\n    $('#search-model-mobile .inner-addon').remove();\n    $('#search-model-mobile').append(data); \n};\n\nvar showDimensionsByWidth = function(data) {\n    $('#product_profile').html(data.html.dropdownProfile);\n    $('#product_inch').html(data.html.dropdownInch);\n    $('#product_brand').html(data.html.dropdownBrand);\n    $('#product_model select').remove();\n    $('#product_model').html(data.html.dropdownModel);\n};\n\nvar showDimensionsByProfile = function(data) {\n    $('#product_inch').html(data.html.dropdownInch);\n    $('#product_brand').html(data.html.dropdownBrand);\n    $('#product_model select').remove();\n    $('#product_model').html(data.html.dropdownModel);\n};\n\nvar showDimensionsByInch = function(data) {\n    $('#brand').html(data.html.dropdownBrand);\n    $('#product_brand select').remove();\n    $('#product_model').html(data.html.dropdownModel);\n};\n\nvar showDimensionsByBrand = function(data) {\n    $('#product_model select').remove();\n    $('#product_model').html(data.html.dropdownModel);\n};\n\n$(document).ready(function() {\n    $('#loading-image').hide();\n});\n\n$(document).ajaxStart(function(){\n    $('#loading-image').show();\n}).ajaxStop(function(){\n    $('#loading-image').hide();\n});\n\n////////////////////////////\n// Twitter: @mikedevelops\n////////////////////////////\n\n// your custome placeholder goes here!\nvar ph = \"ABC123\",\n    searchBar = $('#regNrSearch'),\n    // placeholder loop counter\n    phCount = 0;\n\n// function to return random number between\n// with min/max range\nfunction randDelay(min, max) {\n    return Math.floor(Math.random() * (max-min+1)+min);\n}\n\n// function to print placeholder text in a \n// 'typing' effect\nfunction printLetter(string, el) {\n    // split string into character seperated array\n    var arr = string.split(''),\n        input = el,\n        // store full placeholder\n        origString = string,\n        // get current placeholder value\n        curPlace = $(input).attr(\"placeholder\"),\n        // append next letter to current placeholder\n        placeholder = curPlace + arr[phCount];\n        \n    setTimeout(function(){\n        // print placeholder text\n        $(input).attr(\"placeholder\", placeholder);\n        // increase loop count\n        phCount++;\n        // run loop until placeholder is fully printed\n        if (phCount < arr.length) {\n            printLetter(origString, input);\n        }\n    // use random speed to simulate\n    // 'human' typing\n    }, randDelay(200, 300));\n}  \n\n// function to init animation\nfunction placeholder() {\n    $(searchBar).attr(\"placeholder\", \"\");\n    printLetter(ph, searchBar);\n}\n\nwindow.setTimeout(placeholder, 1500);\n$('.submit').click(function(e){\n    phCount = 0;\n    e.preventDefault();\n    placeholder();\n});"]}