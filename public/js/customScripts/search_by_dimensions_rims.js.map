{"version":3,"sources":["search_by_dimensions_rims.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search_by_dimensions_rims.js","sourcesContent":["function redirect(page) {\n    var redirect = \"\";\n    if(typeof page == \"undefined\" || page == null) {\n        redirect = '/sok/storlek/falgar';\n    } else {\n        redirect = '/sok/storlek/falgar?page=' + page;\n    }\n\n    if (history.pushState) {\n      window.history.pushState(\"\", \"\", redirect);\n    } else {\n      document.location.href = redirect;\n    }\n    return;\n}\n\n\n$(document).on('click', '.pagination a', function(e) {\n        e.preventDefault();\n        var url = $(this).attr('href');\n        var page = url.urlParam('page');\n        // console.log(url);\n        redirect(page);\n\n        $.ajax({\n            type: 'GET',\n            url: '../../filterRimsByBrand', \n            data: {\n                'page' : page,\n                'textSearch' : $('#textSearch').val(),\n                'product_width' : $('#width').val(),\n                'product_inch' : $('#inch').val(),\n                'pcd' : $('#pcd').val(),\n                'et' : $('#et').val(),\n                'product_brand' : $('#brand').val(),\n            },\n            dataType: 'json',\n            xhrFields: {\n                withCredentials: true\n            },\n            success: function(data) {\n                $('#searchResult').remove();\n                $('.categoryFooter').remove();\n                $('#searchContainer div.col-sm-12').append(data.searchResult);\n\n                $('html, body').animate({scrollTop : 0},1000);\n            }\n        });\n    });\n\n    // $(document).ready(function() {\n    //     $(window).scroll(fetchPosts);\n\n    //     function fetchPosts() {\n    //         console.log('scroll1');\n\n    //         var page = $('.endless-pagination').data('next-page');\n\n    //         if(page !== null) {\n    //             console.log(page);\n    //             clearTimeout($.data( this, 'scrollCheck'));\n\n    //             $.data( this, 'scrollCheck', setTimeout(function() {\n    //                 var scroll_position_for_posts_load = $(window).height() + $(window).scrollTop() + 500;\n\n    //                 if(scroll_position_for_posts_load >= $(document).height()) {\n    //                     $.get(page, function(data) {\n    //                         $('#searchResult').append(data.searchResult);\n    //                         $('.endless-pagination').data('next-page', data.next_page);\n    //                     });\n    //                 }\n    //             }, 350));\n\n    //         }\n    //     } \n    // });\n\n$(document).on('change', '#inch', function(){\n    var url = '../../filterRimsByInch';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $('#pcd').val();\n    var product_inch = $(this).val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#width').html(data.html.dropdownWidth);\n            $('#et').html(data.html.dropdownET);\n            $('#brand').html(data.html.dropdownBrand);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n$(document).on('change', '#width', function(){\n    var url = '../../filterRimsByWidth';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $('#pcd').val();\n    var product_inch = $('#inch').val();\n    var product_width = $(this).val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#et').html(data.html.dropdownET);\n            $('#brand').html(data.html.dropdownBrand);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n$(document).on('change', '#et', function(){\n    var url = '../../filterRimsByET';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $('#pcd').val();\n    var product_inch = $('#inch').val();\n    var product_width = $('#width').val();\n    var et = $(this).val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width,\n            et: et\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#brand').html(data.html.dropdownBrand);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n$(document).on('change', '#pcd', function(){\n    var url = '../../filterRimsByET';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $(this).val();\n    var product_inch = $('#inch').val();\n    var product_width = $('#width').val();\n    var et = $('#et').val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width,\n            et: et\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#brand').html(data.html.dropdownBrand);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n \n$(document).on('change', '#brand', function(){\n    var url = '../../filterRimsByBrand';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $('#pcd').val();\n    var product_inch = $('#inch').val();\n    var product_width = $('#width').val();\n    var et = $('#et').val();\n    var product_brand = $(this).val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width,\n            et: et,\n            product_brand: product_brand\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$('.search-box').removeClass('hidden');\n\n$(document).on('click', '.search-close', function(e) {\n    var url = '../../filterRimsByBrand';\n    redirect();\n\n    $('#textSearch').val('');\n    var textSearch = \"\";\n    var pcd = $('#pcd').val();\n    var product_inch = $('#inch').val();\n    var product_width = $('#width').val();\n    var et = $('#et').val();\n    var product_brand = $('#brand').val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width,\n            et: et,\n            product_brand: product_brand\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$(document).on('keyup', '#textSearch', function(e) {\n    e.preventDefault();\n    var url = '../../filterRimsByBrand';\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var pcd = $('#pcd').val();\n    var product_inch = $('#inch').val();\n    var product_width = $('#width').val();\n    var et = $('#et').val();\n    var product_brand = $('#brand').val();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: {\n            textSearch: textSearch,\n            pcd: pcd,\n            product_inch: product_inch,\n            product_width: product_width,\n            et: et,\n            product_brand: product_brand\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});"]}