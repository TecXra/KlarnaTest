function ajaxRequest(e,a,t){void 0===t&&(t=null),$.ajax({type:"get",url:e,data:t,dataType:"json",xhrFields:{withCredentials:!0},success:a})}function randDelay(e,a){return Math.floor(Math.random()*(a-e+1)+e)}function printLetter(e,a){var t=e.split(""),r=a,o=e,i=$(r).attr("placeholder"),c=i+t[phCount];setTimeout(function(){$(r).attr("placeholder",c),phCount++,phCount<t.length&&printLetter(o,r)},randDelay(200,300))}function placeholder(){$(searchBar).attr("placeholder",""),printLetter(ph,searchBar)}$(document).on("keyup keypress","form",function(e){var a=e.keyCode||e.which;if(13===a)return e.preventDefault(),!1}),$(document).on("click","#productType button",function(){$("#ddTireType").show(),$("#productType .glyphicon").css("visibility","hidden"),$(this).find(".glyphicon").css("visibility","visible"),"sommardack"==$(this).data("type")?($("#car-search-box form").attr("action","sok/reg/sommardack"),$("#tireType").on("change",function(){console.log($("#tireType").val()),$("#car-search-box form").attr("action","sok/reg/"+$("#tireType").val())})):$("#car-search-box form").attr("action","sok/reg/"+$(this).data("type"))}),$(document).on("click","#selectRims",function(){$("#ddTireType").hide()}),$(document).on("keyup","#regNrSearch",function(){if(6==$(this).val().length){var e="searchRegNr",a=showRegnr,t={regnr:$(this).val()};setTimeout(function(){},1e3),ajaxRequest(e,a,t)}}),$(document).on("keyup","#search-manuf-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carManufactorers button").each(function(){var a=$(this).data("search-item").toLowerCase();0==a.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("keyup","#search-model-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carModels button").each(function(){var a=$(this).text().toLowerCase();0==a.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("click",'#search-tabs a[href="#search-model-mobile"]',function(){$("#search-model-mobile .alert").remove();var e="getCarManuf",a=listSearchCars;ajaxRequest(e,a)}),$(document).on("click","#carManufactorers button",function(){$("#search-model-mobile .alert").remove();var e="getCarModels",a=listSearchCars,t={carBrand:$(this).val()};ajaxRequest(e,a,t)}),$(document).on("click","#carModels button",function(){var e="searchRegNr",a=showRegnr,t={modelid:$(this).data("modelid"),ktype:$(this).data("ktype")};setTimeout(function(){},1e3),ajaxRequest(e,a,t)});var showRegnr=function(e){if($("#search-model-mobile .alert").remove(),void 0!==e.searchResult)$("#car-search-box form").empty(),$("#car-search-box form").append(e.searchResult),$("#selectComplete .glyphicon").css("visibility","visible"),$('#search-tabs a[href="#search-reg-mobile"]').tab("show"),$("#car-search-box form").attr("action","sok/reg/kompletta-hjul/falgar");else if(e.error){$("#search-tabs li:eq(0)").removeClass("active"),$("#search-tabs li:eq(1)").addClass("active"),$("#search-reg-mobile").removeClass("active"),$("#search-model-mobile").addClass("active"),$("#search-model-mobile").prepend('<div class="alert alert-danger" style="margin-left:0px;"><p>'+e.error+"</p></div>");var a="getCarManuf",t=listSearchCars;ajaxRequest(a,t)}},listSearchCars=function(e){$("#search-model-mobile .list-group").remove(),$("#search-model-mobile .inner-addon").remove(),$("#search-model-mobile").append(e)};$(document).ready(function(){$("#loading-image").hide()}),$(document).ajaxStart(function(){$("#loading-image").show()}).ajaxStop(function(){$("#loading-image").hide()});var ph="ABC123",searchBar=$("#regNrSearch"),phCount=0;window.setTimeout(placeholder,1500),$(".submit").click(function(e){phCount=0,e.preventDefault(),placeholder()});