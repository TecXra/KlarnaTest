function redirect(e){var t="";t="undefined"==typeof e||null==e?"falgar":"falgar?page="+e,history.pushState?window.history.pushState("","",t):document.location.href=t}function ajaxRequest(e,t,o){void 0===o&&(o=null),$.ajax({type:"get",url:e,data:o,dataType:"json",xhrFields:{withCredentials:!0},success:t})}function randDelay(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function printLetter(e,t){var o=e.split(""),a=t,r=e,n=$(a).attr("placeholder"),i=n+o[phCount];setTimeout(function(){$(a).attr("placeholder",i),phCount++,phCount<o.length&&printLetter(r,a)},randDelay(200,300))}function placeholder(){$(searchBar).attr("placeholder",""),printLetter(ph,searchBar)}$(document).on("click",".pagination a",function(e){e.preventDefault();var t=$(this).attr("href"),o=$(this).text();redirect(o),$.ajax({type:"GET",url:t,data:{page:o},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){$("#searchResult").remove(),$(".categoryFooter").remove(),$("#searchContainer div.col-sm-12").append(e.searchResult),$("html, body").animate({scrollTop:$("#searchContainer").offset().top},700)}})}),$(document).on("keyup keypress","form",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),$(document).on("click","#productType button",function(){$("#ddTireType").show(),$("#productType .glyphicon").css("visibility","hidden"),$(this).find(".glyphicon").css("visibility","visible"),"sommardack"==$(this).data("type")?$("#tireType").on("change",function(){$("#car-search-box form").attr("action","sok/reg/"+$("#tireType").val())}):$("#car-search-box form").attr("action","sok/reg/"+$(this).data("type"))}),$(document).on("click","#selectRims",function(){$("#ddTireType").hide()}),$(document).on("keyup","#regNrSearch",function(){if(6==$(this).val().length){var e="searchRegNr",t=showRegnr,o={regnr:$(this).val()};setTimeout(function(){},1e3),ajaxRequest(e,t,o)}}),$(document).on("keyup","#search-manuf-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carManufactorers button").each(function(){var t=$(this).data("search-item").toLowerCase();0==t.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("keyup","#search-model-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carModels button").each(function(){var t=$(this).text().toLowerCase();0==t.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("click",'#search-tabs a[href="#search-model-mobile"]',function(){$("#search-model-mobile .alert").remove();var e="getCarManuf",t=listSearchCars;ajaxRequest(e,t)}),$(document).on("click","#carManufactorers button",function(){$("#search-model-mobile .alert").remove();var e="getCarModels",t=listSearchCars,o={carBrand:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("click","#carModels button",function(){var e="searchRegNr",t=showRegnr,o={modelid:$(this).data("modelid"),ktype:$(this).data("ktype")};setTimeout(function(){},1e3),ajaxRequest(e,t,o)}),$(document).on("change","#product_inch",function(){var e="filterRimsByInch",t=showDimensionsByInch,o={pcd:$("#pcd").val(),product_inch:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#product_width",function(){var e="filterRimsByWidth",t=showDimensionsByWidth,o={pcd:$("#pcd").val(),product_inch:$("#product_inch").val(),product_width:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#et",function(){var e="filterRimsByET",t=showDimensionsByET,o={pcd:$("#pcd").val(),product_inch:$("#product_inch").val(),product_width:$("#product_width").val(),et:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#product_brand, #pcd",function(){var e="filterRimsByBrand",t=showDimensionsByBrand,o={pcd:$("#pcd").val(),product_inch:$("#product_inch").val(),product_width:$("#product_width").val(),et:$("#et").val(),product_brand:$("#product_brand").val()};ajaxRequest(e,t,o)});var showRegnr=function(e){if($("#search-model-mobile .alert").remove(),void 0!==e.searchResult)$("#car-search-box form").empty(),$("#car-search-box form").append(e.searchResult),$("#selectRims .glyphicon").css("visibility","visible"),$("#ddTireType").hide(),$('#search-tabs a[href="#search-reg-mobile"]').tab("show"),$("#car-search-box form").attr("action","sok/reg/falgar");else if(e.error){$("#search-tabs li:eq(0)").removeClass("active"),$("#search-tabs li:eq(1)").addClass("active"),$("#search-reg-mobile").removeClass("active"),$("#search-model-mobile").addClass("active"),$("#search-model-mobile").prepend('<div class="alert alert-danger" style="margin-left:0px;"><p>'+e.error+"</p></div>");var t="getCarManuf",o=listSearchCars;ajaxRequest(t,o)}},listSearchCars=function(e){$("#search-model-mobile .list-group").remove(),$("#search-model-mobile .inner-addon").remove(),$("#search-model-mobile").append(e)},showDimensionsByInch=function(e){console.log(e),$("#product_width").html(e.html.dropdownWidth),$("#et").html(e.html.dropdownET),$("#product_brand").html(e.html.dropdownBrand)},showDimensionsByWidth=function(e){console.log(e),$("#et").html(e.html.dropdownET),$("#product_brand").html(e.html.dropdownBrand)},showDimensionsByET=function(e){console.log(e),$("#product_brand").html(e.html.dropdownBrand)},showDimensionsByBrand=function(e){console.log(e)};$(document).ready(function(){$("#loading-image").hide()}),$(document).ajaxStart(function(){$("#loading-image").show()}).ajaxStop(function(){$("#loading-image").hide()});var ph="ABC123",searchBar=$("#regNrSearch"),phCount=0;window.setTimeout(placeholder,1500),$(".submit").click(function(e){phCount=0,e.preventDefault(),placeholder()});