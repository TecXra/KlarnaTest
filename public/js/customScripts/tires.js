function redirect(e){var t="";"undefined"==typeof e||null==e?(1==productTypeID&&(t="sommardack"),2==productTypeID&&(t="friktionsdack"),3==productTypeID&&(t="dubbdack")):(1==productTypeID&&(t="sommardack?page="+e),2==productTypeID&&(t="friktionsdack?page="+e),3==productTypeID&&(t="dubbdack?page="+e)),history.pushState?window.history.pushState("","",t):document.location.href=t}function ajaxRequest(e,t,o){void 0===o&&(o=null),$.ajax({type:"get",url:e,data:o,dataType:"json",xhrFields:{withCredentials:!0},success:t})}function randDelay(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function printLetter(e,t){var o=e.split(""),r=t,a=e,c=$(r).attr("placeholder"),n=c+o[phCount];setTimeout(function(){$(r).attr("placeholder",n),phCount++,phCount<o.length&&printLetter(a,r)},randDelay(200,300))}function placeholder(){$(searchBar).attr("placeholder",""),printLetter(ph,searchBar)}$(document).on("click",".pagination a",function(e){e.preventDefault();var t=$(this).attr("href"),o=$(this).text();redirect(o),$.ajax({type:"GET",url:t,data:{page:o},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){$("#searchResult").remove(),$(".categoryFooter").remove(),$("#searchContainer div.col-sm-12").append(e.searchResult),$("html, body").animate({scrollTop:$("#searchContainer").offset().top},700)}})}),$(document).on("keyup keypress","form",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),$(document).on("change","#tireType",function(){$("#car-search-box form").attr("action","sok/reg/"+$("#tireType").val())}),$(document).on("click","#productType button",function(){$("#ddTireType").show(),$("#productType .glyphicon").css("visibility","hidden"),$(this).find(".glyphicon").css("visibility","visible"),"sommardack"==$(this).data("type")?$("#tireType").on("change",function(){$("#car-search-box form").attr("action","sok/reg/"+$("#tireType").val())}):$("#car-search-box form").attr("action","sok/reg/"+$(this).data("type"))}),$(document).on("click","#selectRims",function(){$("#ddTireType").hide()}),$(document).on("keyup","#regNrSearch",function(){if(6==$(this).val().length){var e="searchRegNr",t=showRegnr,o={regnr:$(this).val()};setTimeout(function(){},1e3),ajaxRequest(e,t,o)}}),$(document).on("keyup","#search-manuf-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carManufactorers button").each(function(){var t=$(this).data("search-item").toLowerCase();0==t.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("keyup","#search-model-text",function(){console.log("searching...");var e=$(this).val().toLowerCase();$("#carModels button").each(function(){var t=$(this).text().toLowerCase();0==t.indexOf(e)?$(this).show():$(this).hide()})}),$(document).on("click",'#search-tabs a[href="#search-model-mobile"]',function(){$("#search-model-mobile .alert").remove();var e="getCarManuf",t=listSearchCars;ajaxRequest(e,t)}),$(document).on("click","#carManufactorers button",function(){$("#search-model-mobile .alert").remove();var e="getCarModels",t=listSearchCars,o={carBrand:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("click","#carModels button",function(){var e="searchRegNr",t=showRegnr,o={modelid:$(this).data("modelid"),ktype:$(this).data("ktype")};setTimeout(function(){},1e3),ajaxRequest(e,t,o)}),$(document).on("change","#product_width",function(){var e="filterByWidth/"+productTypeID,t=showDimensionsByWidth,o={product_width:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#product_profile",function(){var e="filterByProfile/"+productTypeID,t=showDimensionsByProfile,o={product_width:$("#product_width").val(),product_profile:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#product_inch",function(){var e="filterByInch/"+productTypeID,t=showDimensionsByInch,o={product_width:$("#product_width").val(),product_profile:$("#product_profile").val(),product_inch:$(this).val()};ajaxRequest(e,t,o)}),$(document).on("change","#product_brand",function(){var e="filterByBrand/"+productTypeID,t=showDimensionsByBrand,o={product_width:$("#product_width").val(),product_profile:$("#product_profile").val(),product_inch:$("#product_inch").val(),product_brand:$(this).val()};ajaxRequest(e,t,o)});var showRegnr=function(e){if($("#search-model-mobile .alert").remove(),void 0!==e.searchResult){$("#car-search-box form").empty(),$("#car-search-box form").append(e.searchResult),$("#selectTires .glyphicon").css("visibility","visible"),$('#search-tabs a[href="#search-reg-mobile"]').tab("show");var t="";1==productTypeID&&(t="sok/reg/sommardack"),2==productTypeID&&(t="sok/reg/friktionsdack"),3==productTypeID&&(t="sok/reg/dubbdack"),$("#car-search-box form").attr("action",t)}else if(e.error){$("#search-tabs li:eq(0)").removeClass("active"),$("#search-tabs li:eq(1)").addClass("active"),$("#search-reg-mobile").removeClass("active"),$("#search-model-mobile").addClass("active"),$("#search-model-mobile").prepend('<div class="alert alert-danger" style="margin-left:0px;"><p>'+e.error+"</p></div>");var t="";1==productTypeID&&(t="sok/reg/sommardack"),2==productTypeID&&(t="sok/reg/friktionsdack"),3==productTypeID&&(t="sok/reg/dubbdack"),$("#car-search-box form").attr("action",t);var o="getCarManuf",r=listSearchCars;ajaxRequest(o,r)}},listSearchCars=function(e){$("#search-model-mobile .list-group").remove(),$("#search-model-mobile .inner-addon").remove(),$("#search-model-mobile").append(e)},showDimensionsByWidth=function(e){$("#product_profile").html(e.html.dropdownProfile),$("#product_inch").html(e.html.dropdownInch),$("#product_brand").html(e.html.dropdownBrand),$("#product_model select").remove(),$("#product_model").html(e.html.dropdownModel)},showDimensionsByProfile=function(e){$("#product_inch").html(e.html.dropdownInch),$("#product_brand").html(e.html.dropdownBrand),$("#product_model select").remove(),$("#product_model").html(e.html.dropdownModel)},showDimensionsByInch=function(e){$("#brand").html(e.html.dropdownBrand),$("#product_brand select").remove(),$("#product_model").html(e.html.dropdownModel)},showDimensionsByBrand=function(e){$("#product_model select").remove(),$("#product_model").html(e.html.dropdownModel)};$(document).ready(function(){$("#loading-image").hide()}),$(document).ajaxStart(function(){$("#loading-image").show()}).ajaxStop(function(){$("#loading-image").hide()});var ph="ABC123",searchBar=$("#regNrSearch"),phCount=0;window.setTimeout(placeholder,1500),$(".submit").click(function(e){phCount=0,e.preventDefault(),placeholder()});