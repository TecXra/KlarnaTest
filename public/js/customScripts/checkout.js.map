{"version":3,"sources":["checkout.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"checkout.js","sourcesContent":["$(document).ready(function() {\n\n    var e=document.getElementById(\"refreshed\");\n    if(e.value==\"no\")e.value=\"yes\";\n    else{e.value=\"no\";location.reload();}\n\n    var fullName = $('#InputShippingFullName').val();\n    var phoneNumber = $('#InputShippingPhoneNumber').val();\n    var street = $('#InputShippingAddress').val();\n    var postalCode = $('#InputShippingPostalCode').val();\n    var city = $('#InputShippingCity').val();\n    var country = $('#InputShippingCountry').val();\n\n    $('#autofillShipping').on('ifChecked', function() {\n        $('#InputShippingFullName').val($('#InputBillingFullName').val()); \n        $('#InputShippingPhoneNumber').val($('#InputBillingPhoneNumber').val()); \n        $('#InputShippingAddress').val($('#InputBillingAddress').val()); \n        $('#InputShippingPostalCode').val($('#InputBillingPostalCode').val()); \n        $('#InputShippingCity').val($('#InputBillingCity').val()); \n        $('#InputShippingCountry').val($('#InputBillingCountry').val()); \n    });\n\n    $('#autofillShipping').on('ifUnchecked', function() {\n        $('#InputShippingFullName').val(fullName); \n        $('#InputShippingPhoneNumber').val(phoneNumber); \n        $('#InputShippingAddress').val(street); \n        $('#InputShippingPostalCode').val(postalCode);\n        $('#InputShippingCity').val(city);\n        $('#InputShippingCountry').val(country);\n    });\n\n    // var isMobile = window.matchMedia(\"only screen and (max-width: 760px)\");\n        \n    // if (isMobile.matches) {\n    //     $('#InputShippingCountry').tooltip({ placement: 'bottom' }).tooltip('show');\n    // } else {\n    //     $('#InputShippingCountry').tooltip({ placement: 'bottom' }).tooltip('show');\n    // }\n    $('#InputShippingCountry').tooltip({ placement: 'bottom' }).tooltip('show');\n});\n\n$(document).on('change ifUnchecked ifChecked', '#InputShippingCountry, #autofillShipping', function(e) {\n    e.preventDefault();\n\n    var totalPriceProducts =  parseInt($('#totalPriceProducts').text());\n    var totalPriceExTax =  parseInt($('#totalPriceExTax').text());\n    var totalTax =  parseInt($('#totalTax').text());\n    var discount =  parseInt($('#discount').text());\n    discount = discount > 0 ? discount : 0;\n\n    $.ajax({\n        type: 'GET',\n        url: 'shippingCost', \n        data: {\n            country: $('#InputShippingCountry').val()\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            // console.log(data, discount, totalPriceProducts);\n            $('.shippingCost').empty();\n            $('.shippingCost').append(data.shippingCost + ' kr');\n\n            $('#totalPriceExTax').empty();\n            $('#totalPriceExTax').append(data.totalPriceExTax + ' kr');\n\n            $('#totalTax').empty();\n            $('#totalTax').append(data.totalTax + ' kr');\n\n            $('#total-price').empty();\n            $('#total-price').append( data.totalPriceIncTax + ' kr');\n            // $('#total-price').append((totalPriceProducts + data.shippingCost - discount) + ' kr');\n        }\n    });\n});\n\n// $(document).on('change', '#InputBillingCountry', function() {\n\n//     var totalPriceProducts =  parseInt($('#totalPriceProducts').text());\n//     var totalPriceExTax =  parseInt($('#totalPriceExTax').text());\n//     var totalTax =  parseInt($('#totalTax').text());\n//     var totalPrice =  parseInt($('#total-price').text());\n//     var discount =  parseInt($('#discount').text());\n//     discount = discount > 0 ? discount : 0;\n\n//     $.ajax({\n//         type: 'GET',\n//         url: 'VATCosts', \n//         data: {\n//             country: $('#InputBillingCountry').val()\n//         },\n//         dataType: 'json',\n//         xhrFields: {\n//             withCredentials: true\n//         },\n//         success: function(data) {\n\n//             console.log(data.totalPriceProducts);\n//             // window.location.href = 'kassa';\n            \n//             // console.log(data, discount, totalPriceProducts);\n//             $('#totalPriceWithouShipping').empty();\n//             $('#totalPriceWithouShipping').append(data.totalPriceProducts + ' kr'); \n\n//             $('.shippingCost').empty();\n//             $('.shippingCost').append(data.shippingCost + ' kr');\n\n//             $('#totalPriceExTax').empty();\n//             $('#totalPriceExTax').append(data.totalPriceExTax + ' kr');\n\n//             $('#totalTax').empty();\n//             $('#totalTax').append(data.totalTax + ' kr');\n\n//             $('#total-price').empty();\n//             $('#total-price').append( data.totalPriceIncTax + ' kr');\n//             // $('#total-price').append((totalPriceProducts + data.shippingCost - discount) + ' kr');\n//         }\n//     });\n// });\n\n$(document).on('submit', '#saveOrderInfo', function(e) {\n    e.preventDefault();\n\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n    });\n    // console.log($('#saveOrderInfo').serialize());\n    // throw new Error('die');\n\n    $.ajax({\n        type: 'POST',\n        url: 'saveOrderInfo', \n        data: $('#saveOrderInfo').serialize(),\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n\n            if(data.confirmOrder) {\n                console.log(data.confirmOrder);\n                window.location.href=data.confirmOrder;\n            }\n\n            $('#paymentMethods').remove()\n            $('#headingTwo').after(data.html)\n\n\n            $('#BillingInformation').collapse('hide');\n            $('#paymentMethods').collapse('show');\n            $('html, body').animate({\n                scrollTop: ($('#BillingInformation').offset().top)\n            },500);\n\n        }\n    });\n});\n\n// $(document).ready(function() {\n//     $('.rightSidebar #hej').affix({\n//           offset: {\n//             bottom: $('footer').height(),\n//           }\n//     }); \n// })\n\n$(document).on('ifChecked', '#company', function() {\n    $('#InputCompanyName').parent().removeClass('hidden');\n    $('#InputCompanyName').attr('required', true);\n    $('#InputCompanyName').attr('disabled', false);\n});\n\n$(document).on('ifChecked', '#private', function() {\n    $('#InputCompanyName').parent().addClass('hidden');\n    $('#InputCompanyName').attr('required', false);\n    $('#InputCompanyName').attr('disabled', true);\n});"]}