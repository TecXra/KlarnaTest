{"version":3,"sources":["search_by_dimensions_tires.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search_by_dimensions_tires.js","sourcesContent":["    function redirect(page) {\n        var redirect = \"\";\n        if(typeof page == \"undefined\" || page == null) {\n            if(productTypeID == 1) { redirect = '/sok/storlek/sommardack'; }\n            if(productTypeID == 2) { redirect = '/sok/storlek/friktionsdack'; }\n            if(productTypeID == 3) { redirect = '/sok/storlek/dubbdack'; }\n        } else {\n            if(productTypeID == 1) { redirect = '/sok/storlek/sommardack?page=' + page;}\n            if(productTypeID == 2) { redirect = '/sok/storlek/friktionsdack?page=' + page;}\n            if(productTypeID == 3) { redirect = '/sok/storlek/dubbdack?page=' + page;}\n        }\n\n        if (history.pushState) {\n          window.history.pushState(\"\", \"\", redirect);\n        } else {\n          document.location.href = redirect;\n        }\n        return;\n    }\n\n    $(document).on('click', '.pagination a', function(e) {\n        e.preventDefault();\n        var url = $(this).attr('href');\n        var page = url.urlParam('page');\n        redirect(page);\n        \n        $.ajax({\n            type: 'GET',\n            url: '../../filterByModel' + '/' + productTypeID , \n            data: {\n                'page' : page,\n                'textSearch' : $('#textSearch').val(),\n                'product_width' : $('#width').val(),\n                'product_profile' : $('#profile').val(),\n                'product_inch' : $('#inch').val(),\n                'product_brand' : $('#brand').val(),\n                'product_model' : $('#model select').val(),\n                'is_ctyre' : $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0,\n                'is_runflat' : $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0\n            },\n            dataType: 'json',\n            xhrFields: {\n                withCredentials: true\n            },\n            success: function(data) {\n                $('#searchResult').remove();\n                $('.categoryFooter').remove();\n                $('#searchContainer div.col-sm-12').append(data.searchResult);\n\n                $('html, body').animate({scrollTop : 0},1000);\n            }\n        });\n    });\n\n    // $(document).ready(function() {\n    //     $(window).scroll(fetchPosts);\n\n    //     function fetchPosts() {\n    //         console.log('scroll1');\n\n    //         var page = $('.endless-pagination').data('next-page');\n\n    //         if(page !== null) {\n    //             console.log(page);\n    //             clearTimeout($.data( this, 'scrollCheck'));\n\n    //             $.data( this, 'scrollCheck', setTimeout(function() {\n    //                 var scroll_position_for_posts_load = $(window).height() + $(window).scrollTop() + 500;\n\n    //                 if(scroll_position_for_posts_load >= $(document).height()) {\n    //                     $.get(page, function(data) {\n    //                         $('#searchResult').append(data.searchResult);\n    //                         $('.endless-pagination').data('next-page', data.next_page);\n    //                     });\n    //                 }\n    //             }, 350));\n\n    //         }\n    //     } \n    // });\n \n\n$(document).on('change', '#width', function(){\n    var url = '../../filterByWidth/' + productTypeID;\n    \n    var textSearch = $('#textSearch').val();\n    var product_width = $(this).val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n    redirect();\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#profile').html(data.html.dropdownProfile);\n            $('#inch').html(data.html.dropdownInch);\n            $('#brand').html(data.html.dropdownBrand);\n            $('#model select').remove();\n            $('#model').html(data.html.dropdownModel);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$(document).on('change', '#profile', function(){\n    var url = '../../filterByProfile/' + productTypeID;\n    redirect();\n    \n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $(this).val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#inch').html(data.html.dropdownInch);\n            $('#brand').html(data.html.dropdownBrand);\n            $('#model select').remove();\n            $('#model').html(data.html.dropdownModel);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$(document).on('change', '#inch', function(){\n    var url = '../../filterByInch/' + productTypeID;\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $(this).val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n   \n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#brand').html(data.html.dropdownBrand);\n            $('#model select').remove();\n            $('#model').html(data.html.dropdownModel);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$(document).on('change', '#brand', function(){\n    var url = '../../filterByBrand/' + productTypeID;\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $('#inch').val();\n    var product_brand = $(this).val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            product_brand : product_brand,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#model select').remove();\n            $('#model').html(data.html.dropdownModel);\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n$(document).on('change', '#model select', function(){\n    var url = '../../filterByModel/' + productTypeID;\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $('#inch').val();\n    var product_brand = $('#brand').val();\n    var product_model = $(this).val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            product_brand : product_brand,\n            product_model : product_model,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n \n$(document).on('ifChanged', '.check-btn input', function(){\n    var url = '../../filterByModel/' + productTypeID;\n    redirect();\n    \n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $('#inch').val();\n    var product_brand = $('#brand').val();\n    var product_model = $('#model select').val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            product_brand : product_brand,\n            product_model : product_model,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n$('.search-box').removeClass('hidden');\n\n$(document).on('click', '.search-close', function(e) {\n    var url = '../../filterByModel/' + productTypeID;\n    redirect();\n    \n    $('#textSearch').val('');\n    var textSearch = \"\";\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $('#inch').val();\n    var product_brand = $('#brand').val();\n    var product_model = $('#model select').val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            product_brand : product_brand,\n            product_model : product_model,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n\n\n    \n$(document).on('keyup', '#textSearch', function(e) {\n    e.preventDefault();\n    var url = '../../filterByModel/' + productTypeID;\n    redirect();\n\n    var textSearch = $('#textSearch').val();\n    var product_width = $('#width').val();\n    var product_profile = $('#profile').val();\n    var product_inch = $('#inch').val();\n    var product_brand = $('#brand').val();\n    var product_model = $('#model select').val();\n    var is_ctyre = $('.check-btn [name=\"cdack\"]').is(':checked') ? 1:0;\n    var is_runflat = $('.check-btn [name=\"runflat\"]').is(':checked') ? 1:0;\n\n    $.ajax({\n        type: 'get',\n        url: url,\n        data: { \n            textSearch : textSearch,\n            product_width : product_width,\n            product_profile : product_profile,\n            product_inch : product_inch,\n            product_brand : product_brand,\n            product_model : product_model,\n            is_ctyre : is_ctyre,\n            is_runflat : is_runflat\n        },\n        dataType: 'json',\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function(data) {\n            $('#searchResult').remove();\n            $('.categoryFooter').remove(); \n            $('#productCount').empty();\n            $('#productCount').html(data.productCount);\n            $('#searchContainer div.col-sm-12').append(data.searchResult);\n        }\n    });\n});\n"]}